import { Topic } from '../../../types';

export const SECURITY_HTTPS_INTERMEDIATE_TOPICS: Topic[] = [
  {
    id: 'https-certificates',
    title: '–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∏ –∏—Ö –ø—Ä–æ–≤–µ—Ä–∫–∞',
    description: 'SSL/TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞ –∏ –ø–æ–∑–≤–æ–ª—è—é—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ. –ë—Ä–∞—É–∑–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π HTTPS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.',
    difficulty: 'intermediate',
    tags: ['security', 'https', 'certificates', 'ssl', 'tls'],
    keyPoints: [
      '–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ç–æ—Ç, –∑–∞ –∫–æ–≥–æ —Å–µ–±—è –≤—ã–¥–∞–µ—Ç.',
      '–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤—ã–¥–∞–µ—Ç—Å—è Certificate Authority (CA).',
      '–ë—Ä–∞—É–∑–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.',
      '–°–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –≤—ã–∑—ã–≤–∞—é—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.',
      '–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∏–º–µ—é—Ç —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –∏ –¥–æ–ª–∂–Ω—ã –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è.'
    ],
    examples: [
      {
        title: '–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞',
        code: `// –ë—Ä–∞—É–∑–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:
// 1. –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –ª–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç?
// 2. –í—ã–¥–∞–Ω –ª–∏ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–º CA?
// 3. –ù–µ –∏—Å—Ç–µ–∫ –ª–∏ —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è?
// 4. –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª–∏ –¥–æ–º–µ–Ω—É?

// ‚úÖ –í–∞–ª–∏–¥–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:
// - –í—ã–¥–∞–Ω –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–º CA
// - –ù–µ –∏—Å—Ç–µ–∫
// - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¥–æ–º–µ–Ω—É
// ‚Üí –ë—Ä–∞—É–∑–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç üîí (–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ)

// ‚ùå –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:
// - –°–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π
// - –ò—Å—Ç–µ–∫
// - –ù–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¥–æ–º–µ–Ω—É
// ‚Üí –ë—Ä–∞—É–∑–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç ‚ö†Ô∏è (–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ)`
      }
    ],
    relatedTopics: ['https-ssl-tls', 'https-mixed-content']
  },
  {
    id: 'https-mixed-content',
    title: 'Mixed content –∏ –ø–æ—á–µ–º—É —ç—Ç–æ –ø–ª–æ—Ö–æ',
    description: 'Mixed content –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, –∫–æ–≥–¥–∞ HTTPS —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ä–µ—Å—É—Ä—Å—ã (—Å–∫—Ä–∏–ø—Ç—ã, —Å—Ç–∏–ª–∏, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è) –ø–æ HTTP. –ë—Ä–∞—É–∑–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç mixed content, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ —Å–æ–∑–¥–∞–µ—Ç —É—è–∑–≤–∏–º–æ—Å—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.',
    difficulty: 'intermediate',
    isFrontendEssential: true,
    tags: ['security', 'https', 'mixed-content', 'http', 'front-end-essential'],
    keyPoints: [
      'Mixed content: HTTPS —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç HTTP —Ä–µ—Å—É—Ä—Å—ã.',
      '–ë—Ä–∞—É–∑–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç mixed content (—Å–∫—Ä–∏–ø—Ç—ã, —Å—Ç–∏–ª–∏).',
      'Mixed content —Å–æ–∑–¥–∞–µ—Ç —É—è–∑–≤–∏–º–æ—Å—Ç—å (HTTP —Ä–µ—Å—É—Ä—Å—ã –º–æ–≥—É—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω—ã).',
      '–í—Å–µ —Ä–µ—Å—É—Ä—Å—ã –¥–æ–ª–∂–Ω—ã –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –ø–æ HTTPS.',
      '–ü—Ä–æ–≤–µ—Ä–∫–∞ mixed content –≤ DevTools (Console).'
    ],
    examples: [
      {
        title: 'Mixed content',
        code: `// ‚ùå Mixed content:
// –°—Ç—Ä–∞–Ω–∏—Ü–∞: https://example.com
// –ó–∞–≥—Ä—É–∂–∞–µ—Ç: http://cdn.example.com/script.js

// –ë—Ä–∞—É–∑–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç:
// - –°–∫—Ä–∏–ø—Ç—ã –ø–æ HTTP
// - –°—Ç–∏–ª–∏ –ø–æ HTTP
// - iframe –ø–æ HTTP

// –ë—Ä–∞—É–∑–µ—Ä —Ä–∞–∑—Ä–µ—à–∞–µ—Ç (—Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º):
// - –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ HTTP
// - –í–∏–¥–µ–æ –ø–æ HTTP
// - –ê—É–¥–∏–æ –ø–æ HTTP

// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ: –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã –ø–æ HTTPS
// –°—Ç—Ä–∞–Ω–∏—Ü–∞: https://example.com
// –ó–∞–≥—Ä—É–∂–∞–µ—Ç: https://cdn.example.com/script.js

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–¥–µ:
// –í—Å–µ URL –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å https://
// –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ (//cdn.example.com)`
      }
    ],
    relatedTopics: ['https-basics', 'https-hsts']
  },
  {
    id: 'https-hsts',
    title: 'HSTS (HTTP Strict Transport Security) ‚Äî –∑–∞—Å—Ç–∞–≤–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTPS',
    description: 'HSTS (HTTP Strict Transport Security) ‚Äî —ç—Ç–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –±—Ä–∞—É–∑–µ—Ä –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTPS –¥–ª—è –¥–æ–º–µ–Ω–∞, –¥–∞–∂–µ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–µ–ª HTTP. –≠—Ç–æ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç downgrade –∞—Ç–∞–∫.',
    difficulty: 'intermediate',
    isFrontendEssential: true,
    tags: ['security', 'https', 'hsts', 'strict-transport-security', 'front-end-essential'],
    keyPoints: [
      'HSTS –∑–∞–≥–æ–ª–æ–≤–æ–∫: Strict-Transport-Security: max-age=31536000; includeSubDomains.',
      '–ë—Ä–∞—É–∑–µ—Ä –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç –¥–æ–º–µ–Ω –∏ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç HTTPS.',
      '–ó–∞—â–∏—â–∞–µ—Ç –æ—Ç downgrade –∞—Ç–∞–∫ (–ø—Ä–∏–Ω—É–∂–¥–µ–Ω–∏–µ –∫ HTTP).',
      'includeSubDomains: –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º –ø–æ–¥–¥–æ–º–µ–Ω–∞–º.',
      'max-age: –≤—Ä–µ–º—è –¥–µ–π—Å—Ç–≤–∏—è –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–æ–±—ã—á–Ω–æ 1 –≥–æ–¥).'
    ],
    examples: [
      {
        title: '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ HSTS',
        code: `// –°–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç HSTS –∑–∞–≥–æ–ª–æ–≤–æ–∫:
// Strict-Transport-Security: max-age=31536000; includeSubDomains

// –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –ø–æ—Å–µ—â–µ–Ω–∏—è:
// 1. –ë—Ä–∞—É–∑–µ—Ä –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç –¥–æ–º–µ–Ω
// 2. –í—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç HTTPS
// 3. –î–∞–∂–µ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–µ–ª http://example.com
//    ‚Üí –ë—Ä–∞—É–∑–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –Ω–∞ https://example.com

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (Express):
app.use((req, res, next) => {
  if (req.secure) {
    res.setHeader(
      'Strict-Transport-Security',
      'max-age=31536000; includeSubDomains; preload'
    );
  }
  next();
});

// ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
// - –ó–∞—â–∏—Ç–∞ –æ—Ç downgrade –∞—Ç–∞–∫
// - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ HTTPS
// - –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º –ø–æ–¥–¥–æ–º–µ–Ω–∞–º (—Å includeSubDomains)`
      }
    ],
    relatedTopics: ['https-basics', 'https-mixed-content']
  },
  {
    id: 'https-client-encryption',
    title: '–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ',
    description: '–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä. Web Crypto API –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –±–µ–∑ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä.',
    difficulty: 'intermediate',
    tags: ['security', 'https', 'encryption', 'web-crypto', 'client-side'],
    keyPoints: [
      'Web Crypto API: –Ω–∞—Ç–∏–≤–Ω–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.',
      '–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∑–∞—â–∏—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π.',
      '–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è end-to-end —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è.',
      '–¢—Ä–µ–±—É–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª—é—á–∞–º–∏.',
      '–ù–µ –∑–∞–º–µ–Ω—è–µ—Ç HTTPS, –∞ –¥–æ–ø–æ–ª–Ω—è–µ—Ç –µ–≥–æ.'
    ],
    examples: [
      {
        title: '–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ',
        code: `// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Web Crypto API
const data = new TextEncoder().encode('sensitive data');
const key = await crypto.subtle.generateKey(
  { name: 'AES-GCM', length: 256 },
  true,
  ['encrypt', 'decrypt']
);

const iv = crypto.getRandomValues(new Uint8Array(12));
const encrypted = await crypto.subtle.encrypt(
  { name: 'AES-GCM', iv },
  key,
  data
);

// –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
fetch('/api/data', {
  method: 'POST',
  body: JSON.stringify({
    encrypted: Array.from(new Uint8Array(encrypted)),
    iv: Array.from(iv)
  })
});

// ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
// - –î–∞–Ω–Ω—ã–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
// - –°–µ—Ä–≤–µ—Ä –Ω–µ –≤–∏–¥–∏—Ç –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
// - End-to-end —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ`
      }
    ],
    relatedTopics: ['https-basics', 'data-storage-advanced-techniques']
  }
];
